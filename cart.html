<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .container {
        background-color: #464445;
        padding: 0;
        margin: 0;
        padding-top: 20px;
        display: flex;
        justify-content: center;
        align-items: start;
        height: 100%;
        width: 100%;
    }
    #parent{
        display: flex;
        flex-direction: column;
    }
</style>

<body>
    <div class="container">
        <div id="parent">ITEMS IN THE CART</div>
    </div>

    <script>
        const data = [
            {
                "large_img": "https://m.media-amazon.com/images/I/41mXAbIYkCL._SX300_SY300_QL70_FMwebp_.jpg",
                "title": "Urban Terrain UT1000 Steel MTB 27.5 Mountain Cycle",
                "price": 11920,
                "id": "bic1",
            },

            {
                "large_img": "https://m.media-amazon.com/images/I/41mXAbIYkCL._SX300_SY300_QL70_FMwebp_.jpg",
                "title": "Urban Terrain UT1000 Steel MTB 27.5 Mountain Cycle",
                "price": 11920,
                "id": "bic2",
            }
        ]
        var parent = document.getElementById("parent")
        // console.log(parent)

        if (data.length == 0) {
            parent.textContent = "Cart Empty";
            var buttontxt = document.createElement('button');
            buttontxt.textContent = "Keep Shopping";

            parent.append(buttontxt);

        }
        else {
            const elements = data.map((i) => {

                var pQty = document.createElement('p');
                pQty.textContent = 1;

                var newElement = document.createElement('div');
                newElement.setAttribute('id', `${i.id}`)
                var pName = document.createElement('p');
                pName.textContent = `${i.title}`

                var buttonplus = document.createElement('button')
                var buttonmin = document.createElement('button')

                buttonmin.textContent = '-'

                var pimg = new Image()
                pimg.src = `${i.large_img}`

                var pPrice = document.createElement('p');
                pPrice.textContent = `${i.price}`

                var pQty = document.createElement('p');
                pQty.textContent = 1

                buttonplus.textContent = '+'
                buttonplus.addEventListener('click', () => {
                    pQty.textContent = parseInt(pQty.textContent) + 1
                    pPrice.textContent = parseInt(pQty.textContent) * `${i.price}`
                })

                buttonmin.addEventListener('click', () => {
                    pQty.textContent = parseInt(pQty.textContent) < 2 ? parseInt(pQty.textContent) : parseInt(pQty.textContent) - 1
                    pPrice.textContent = parseInt(pQty.textContent) * `${i.price}`
                })

                newElement.append(pimg, pName, pPrice, buttonmin, pQty, buttonplus)

                return (
                    newElement
                )
            })
            // console.log(elements)
            elements.forEach((e) => {
                parent.append(e)
            })
        }
    </script>
</body>
</html>